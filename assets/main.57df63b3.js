import"./modulepreload-polyfill.c7c6310f.js";function u(){return fetch("https://api.github.com/repos/sujin22/singpost-route/contents/data/input-data/").then(t=>{if(!t.ok)throw new Error("Failed to fetch file list");return t.json()}).then(t=>{const r=t.map(a=>a.name);return console.log(r),r}).catch(t=>(console.error("Error:",t),[]))}function d(o){return fetch(o).then(n=>{if(!n.ok)throw new Error(`JSON \uC77D\uAE30 \uC624\uB958: ${n.status} ${n.statusText}`);return n.json()}).then(n=>{const e=new Map;return n.forEach(t=>{var s;const{ORDER_DATE:r,CAR_NUM:a}=t;e.has(r)||e.set(r,new Set),(s=e.get(r))==null||s.add(a)}),e})}function p(o){const n=document.createDocumentFragment();return o.forEach(e=>{const t=document.createElement("details");t.className="tree-nav__item is-expandable";const r=document.createElement("summary");r.className="tree-nav__item-title",r.textContent=e.replace(".json",""),console.log(e);const a=document.createElement("div");a.className="tree-nav__item";const l="./data/all-route/"+e.replace("json","html");console.log("url"+l);const c=document.createElement("a");c.className="tree-nav__item",c.href=l,c.textContent="All Route",a.appendChild(c),t.appendChild(a),t.appendChild(r),n.appendChild(t)}),n}function h(o){const n="./route.html?",e=document.createDocumentFragment();return o.forEach((t,r,a)=>{const s=document.createElement("details");s.className="tree-nav__item is-expandable";const l=document.createElement("summary");l.className="tree-nav__item-title",l.textContent=r;const c=document.createElement("div");c.className="tree-nav__item",t.forEach((m,_,C)=>{const i=document.createElement("a");i.className="tree-nav__item",i.href=n+"date="+r+"&car_id="+m,i.textContent=m,c.appendChild(i)}),s.appendChild(c),s.appendChild(l),e.appendChild(s)}),e}function E(o){return o.sort((n,e)=>{const t=parseInt(n.substring(0,8)),r=parseInt(n.substring(9,n.lastIndexOf("."))),a=parseInt(e.substring(0,8)),s=parseInt(e.substring(9,e.lastIndexOf(".")));return t===a?r-s:a-t}),console.log(o),o}u().then(o=>{const n=E(o),e=p(n),t=document.querySelector(".tree-nav");t?t.appendChild(e):console.error("Container Element Not Found")}).catch(o=>{console.error("Error:",o)});const f="/singpost-route/20230201_001.json";d(f).then(o=>{console.log(o);const n=h(o),e=document.querySelector(".tree-nav");e?e.appendChild(n):console.error("Container Element Not Found")}).catch(o=>{console.error("JSON \uC77D\uAE30 \uC624\uB958:",o)});
