import"./modulepreload-polyfill.c7c6310f.js";function p(){return fetch("https://api.github.com/repos/sujin22/singpost-route/contents/data/input-data/").then(e=>{if(!e.ok)throw new Error("Failed to fetch file list");return e.json()}).then(e=>{console.log(e);const o=e.map(a=>a.name);return console.log(o),o}).catch(e=>(console.error("Error:",e),[]))}function h(r){return fetch(r).then(t=>{if(!t.ok)throw new Error(`JSON \uC77D\uAE30 \uC624\uB958: ${t.status} ${t.statusText}`);return t.json()}).then(t=>{const n=new Map;return console.log("jsonData"+t),t.forEach(e=>{var s;const{order_date:o,CAR_NUM:a}=e;n.has(o)||n.set(o,new Set),(s=n.get(o))==null||s.add(a)}),n})}function f(r){const t=document.createDocumentFragment();return r.forEach(n=>{const e=document.createElement("details");e.className="tree-nav__item is-expandable";const o=document.createElement("summary");o.className="tree-nav__item-title",o.textContent=n.replace(".json",""),console.log(n),o.addEventListener("click",function(){const m="/singpost-route/data/input-data/"+n;h(m).then(u=>{console.log(u);const d=E(u),l=document.querySelector(".tree-nav");l?l.appendChild(d):console.error("Container Element Not Found")}).catch(u=>{console.error("JSON \uC77D\uAE30 \uC624\uB958:",u)})});const a=document.createElement("div");a.className="tree-nav__item";const s="./data/all-route/",c=document.createElement("a");c.className="tree-nav__item";const i=s+n.replace("json","html");console.log("href url: "+i),c.href=i,c.textContent="All Route",a.appendChild(c),e.appendChild(a),e.appendChild(o),t.appendChild(e)}),t}function E(r){const t="./route.html?",n=document.createDocumentFragment();return r.forEach((e,o,a)=>{const s=document.createElement("details");s.className="tree-nav__item is-expandable";const c=document.createElement("summary");c.className="tree-nav__item-title",c.textContent=o;const i=document.createElement("div");i.className="tree-nav__item",e.forEach((m,u,d)=>{const l=document.createElement("a");l.className="tree-nav__item",l.href=t+"date="+o+"&car_id="+m,l.textContent=m,i.appendChild(l)}),s.appendChild(i),s.appendChild(c),n.appendChild(s)}),n}function g(r){return r.sort((t,n)=>{const e=parseInt(t.substring(0,8)),o=parseInt(t.substring(9,t.lastIndexOf("."))),a=parseInt(n.substring(0,8)),s=parseInt(n.substring(9,n.lastIndexOf(".")));return e===a?o-s:a-e}),console.log(r),r}p().then(r=>{const t=g(r),n=f(t),e=document.querySelector(".tree-nav");e?e.appendChild(n):console.error("Container Element Not Found")}).catch(r=>{console.error("Error:",r)});
