import"./modulepreload-polyfill.c7c6310f.js";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */const s=new URLSearchParams(window.location.search),l=s.get("date"),d=s.get("car_id");console.log("date: "+l);console.log("carID : "+d);function h(e){return fetch(e).then(t=>{if(!t.ok)throw new Error(`JSON \uC77D\uAE30 \uC624\uB958: ${t.status} ${t.statusText}`);return t.json()}).then(t=>{const n=[];return t.forEach(a=>{const{ORDER_DATE:o,CAR_NUM:c,Y:u,X:g}=a;if(o!=l||c!=d)return;const r=parseFloat(u),i=parseFloat(g);if(!isNaN(r)&&!isNaN(i)){const m={latitude:r,longitude:i};n.push(m)}}),n})}const p="/asset/20230201_00001.json";h(p).then(e=>{function t(){const n=new google.maps.Map(document.getElementById("map"),{zoom:4}),a=new google.maps.DirectionsService,o=new google.maps.DirectionsRenderer({draggable:!1,map:n,panel:document.getElementById("panel")});o.addListener("directions_changed",()=>{const c=o.getDirections();c&&w(c)}),f(e,a,o)}t()}).catch(e=>{console.error("JSON \uC77D\uAE30 \uC624\uB958:",e)});function f(e,t,n){const a=[];e.slice(1,e.length-1).forEach(o=>{const c={location:new google.maps.LatLng(o.latitude,o.longitude)};a.push(c)}),console.log(e),console.log("latitude: "+e[0]),t.route({origin:{lat:e[0].latitude,lng:e[0].longitude},destination:{lat:e[e.length-1].latitude,lng:e[e.length-1].longitude},waypoints:a,travelMode:google.maps.TravelMode.DRIVING,avoidTolls:!0}).then(o=>{n.setDirections(o)}).catch(o=>{alert("Could not display directions due to: "+o)})}function w(e){let t=0;const n=e.routes[0];if(!!n){for(let a=0;a<n.legs.length;a++)t+=n.legs[a].distance.value;t=t/1e3,document.getElementById("total").innerHTML=t+" km"}}
